<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="/src/styles.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.css"
    />
    <script
      type="text/javascript"
      src="https://code.jquery.com/jquery-2.1.1.min.js"
    ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>
    <script type="module">
      import { onPlay, onChangeHideBoundingBoxes } from "./src/webcamFaceLandmarkDetection";
      import { onDecreaseMinConfidence, onIncreaseMinConfidence, onDecreaseScoreThreshold, onIncreaseScoreThreshold } from "./src/faceDetectionControls";
      window.onPlay = onPlay;
      window.onChangeHideBoundingBoxes = onChangeHideBoundingBoxes;
      window.onDecreaseMinConfidence = onDecreaseMinConfidence;
      window.onIncreaseMinConfidence = onIncreaseMinConfidence;
      window.onDecreaseScoreThreshold = onDecreaseScoreThreshold;
      window.onIncreaseScoreThreshold = onIncreaseScoreThreshold;
    </script>
  </head>
  <body>
    <div id="navbar"></div>
    <div class="center-content page-container">
      <div class="progress" id="loader">
        <div class="indeterminate"></div>
      </div>
      <div style="position: relative" class="margin">
        <video
          onloadedmetadata="onPlay(this)"
          id="inputVideo"
          autoplay
          muted
          playsinline
        ></video>
        <canvas id="overlay" />
      </div>

      <div class="row side-by-side">
        <!-- check boxes -->
        <div class="row" style="width: 220px">
          <input
            type="checkbox"
            id="hideBoundingBoxesCheckbox"
            onchange="onChangeHideBoundingBoxes(event)"
          />
          <label for="hideBoundingBoxesCheckbox">Hide Bounding Boxes</label>
        </div>
        <!-- check boxes -->

        <!-- fps_meter -->
        <div id="fps_meter" class="row side-by-side">
          <div>
            <label for="time">Time:</label>
            <input disabled value="-" id="time" type="text" class="bold" />
            <label for="fps">Estimated Fps:</label>
            <input disabled value="-" id="fps" type="text" class="bold" />
          </div>
        </div>
        <!-- fps_meter -->
      </div>

      <!-- ssd_mobilenetv1_controls -->
      <span id="ssd_mobilenetv1_controls">
        <div class="row side-by-side">
          <div class="row">
            <label for="minConfidence">Min Confidence:</label>
            <input
              disabled
              value="0.5"
              id="minConfidence"
              type="text"
              class="bold"
            />
          </div>
          <button
            class="waves-effect waves-light btn"
            onclick="onDecreaseMinConfidence()"
          >
            <i class="material-icons left">-</i>
          </button>
          <button
            class="waves-effect waves-light btn"
            onclick="onIncreaseMinConfidence()"
          >
            <i class="material-icons left">+</i>
          </button>
        </div>
      </span>
      <!-- ssd_mobilenetv1_controls -->

      <!-- tiny_face_detector_controls -->
      <span id="tiny_face_detector_controls">
        <div class="row side-by-side">
          <div class="row input-field" style="margin-right: 20px">
            <select id="inputSize">
              <option value="" disabled selected>Input Size:</option>
              <option value="128">128 x 128</option>
              <option value="160">160 x 160</option>
              <option value="224">224 x 224</option>
              <option value="320">320 x 320</option>
              <option value="416">416 x 416</option>
              <option value="512">512 x 512</option>
              <option value="608">608 x 608</option>
            </select>
            <label>Input Size</label>
          </div>
          <div class="row">
            <label for="scoreThreshold">Score Threshold:</label>
            <input
              disabled
              value="0.5"
              id="scoreThreshold"
              type="text"
              class="bold"
            />
          </div>
          <button
            class="waves-effect waves-light btn"
            onclick="onDecreaseScoreThreshold()"
          >
            <i class="material-icons left">-</i>
          </button>
          <button
            class="waves-effect waves-light btn"
            onclick="onIncreaseScoreThreshold()"
          >
            <i class="material-icons left">+</i>
          </button>
        </div>
      </span>
      <!-- tiny_face_detector_controls -->
    </div>
  </body>

  <script>
  </script>
</html>
